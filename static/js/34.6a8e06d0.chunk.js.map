{"version":3,"file":"static/js/34.6a8e06d0.chunk.js","mappings":"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","sources":["pages/SweetsPages/Sweet.jsx","pages/SweetsPages/Sweet.styled.js"],"sourcesContent":["import { useLocation, useParams } from \"react-router-dom\";\r\nimport {\r\n  doc,\r\n  getDoc,\r\n  collection,\r\n  query,\r\n  where,\r\n  getDocs,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"../../firebase/config\";\r\nimport { useEffect, useState } from \"react\";\r\nimport {\r\n  MainBtn,\r\n  Score,\r\n  Price,\r\n  AdditionalCandies,\r\n  Loader,\r\n} from \"../../components\";\r\nimport {\r\n  PageWrapper,\r\n  StyledMain,\r\n  ImgWrapper,\r\n  DescrWrapper,\r\n  StyledP,\r\n  GoBackLink,\r\n  StyledProductTitle\r\n} from \"./Sweet.styled\";\r\nimport { Container } from \"../../components/SharedLayout/SharedLayout.styled\";\r\nimport { PriceWrapper } from \"../../components/Product/Product.styled\";\r\nimport { MdOutlineArrowBackIosNew } from \"react-icons/md\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nconst SweetDetails = () => {\r\n  const [sweet, setSweet] = useState(null);\r\n  const [addCandy, setAddCandy] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const location = useLocation();\r\n  const backLinkHref = location.state?.from ?? \"/sweets\";\r\n\r\n  const { id } = useParams();\r\n\r\n  const docRef = doc(db, \"sweets\", id);\r\n  useEffect(() => {\r\n    getDoc(docRef)\r\n      .then((sweet) => {\r\n        const candy = sweet.data();\r\n        candy.id = id;\r\n        setSweet(candy);\r\n      })\r\n      .catch((error) => {\r\n        toast.error(error.message);\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (sweet) {\r\n      const q = query(\r\n        collection(db, \"sweets\"),\r\n        where(\"category\", \"==\", sweet.category)\r\n      );\r\n      getDocs(q)\r\n        .then((sweets) => {\r\n          const updateSweets = sweets.docs\r\n            .map((candy) => ({\r\n              id: candy.id,\r\n              ...candy.data(),\r\n            }))\r\n            .filter((candy) => candy.id !== id);\r\n          setAddCandy(updateSweets);\r\n        })\r\n        .catch((error) => {\r\n          toast.error(error.message);\r\n        })\r\n        .finally(() => setIsLoading(false));\r\n    }\r\n  }, [sweet, id]);\r\n\r\n  if (!sweet) return null;\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <Container>\r\n        <GoBackLink to={backLinkHref}>\r\n          <MdOutlineArrowBackIosNew size={20} /> Back to sweets\r\n        </GoBackLink>\r\n        {isLoading ? (\r\n          <Loader />\r\n        ) : (\r\n          <StyledMain>\r\n            <ImgWrapper>\r\n              <img src={sweet.img} alt={sweet.name} />\r\n            </ImgWrapper>\r\n            <DescrWrapper>\r\n              <StyledProductTitle>{sweet.name}</StyledProductTitle>\r\n              <PriceWrapper>\r\n                <Price price={sweet.price} />\r\n                <Score scored={sweet.scored} />\r\n              </PriceWrapper>\r\n              {sweet.full.map((par, i) => (\r\n                <StyledP key={i}>{par}</StyledP>\r\n              ))}\r\n\r\n              <MainBtn candy={sweet} />\r\n            </DescrWrapper>\r\n          </StyledMain>\r\n        )}\r\n\r\n        {isLoading ? <Loader /> : <AdditionalCandies addCandy={addCandy} />}\r\n      </Container>\r\n    </PageWrapper>\r\n  );\r\n};\r\n\r\nexport default SweetDetails;\r\n","import styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const PageWrapper = styled.main`\r\n  background-color: ${({ theme }) => theme.colors.white};\r\n`;\r\n\r\nexport const StyledMain = styled.div`\r\n  padding-top: ${({ theme }) => theme.spacing(5)};\r\n  padding-bottom: ${({ theme }) => theme.spacing(7)};\r\n  @media screen and (min-width: 768px) {\r\n    display: flex;\r\n    justify-content: center;\r\n    gap: ${({ theme }) => theme.spacing(7)};\r\n  }\r\n`;\r\n\r\nexport const GoBackLink = styled(Link)`\r\n  display: flex;\r\n  padding-top: ${({ theme }) => theme.spacing(3)};\r\n  align-items: center;\r\n  gap: ${({ theme }) => theme.spacing(1)};\r\n  color: ${({ theme }) => theme.colors.light};\r\n`;\r\n\r\nexport const ImgWrapper = styled.div`\r\n  width: 250px;\r\n  height: 250px;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  @media screen and (min-width: 768px) {\r\n    width: 550px;\r\n    height: 550px;\r\n  }\r\n  img {\r\n    display: block;\r\n    height: 100%;\r\n    width: 100%;\r\n    object-fit: cover;\r\n  }\r\n`;\r\nexport const DescrWrapper = styled.div`\r\n  @media screen and (min-width: 768px) {\r\n    width: 450px;\r\n  }\r\n`;\r\n\r\nexport const StyledProductTitle = styled.h2`\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nexport const StyledP = styled.p`\r\n  margin-top: ${({ theme }) => theme.spacing(2)};\r\n  margin-bottom: ${({ theme }) => theme.spacing(2)};\r\n`;\r\n\r\nexport const MainContent = styled.div`\r\n  @media screen and (min-width: 768px) {\r\n    display: flex;\r\n    gap: ${({ theme }) => theme.spacing(7)};\r\n  }\r\n`;\r\n"],"names":["_location$state$from","_location$state","_useState","useState","_useState2","_slicedToArray","sweet","setSweet","_useState3","_useState4","addCandy","setAddCandy","_useState5","_useState6","isLoading","setIsLoading","backLinkHref","useLocation","state","from","id","useParams","docRef","doc","db","useEffect","getDoc","then","candy","data","catch","error","toast","message","finally","q","query","collection","where","category","getDocs","sweets","updateSweets","docs","map","_objectSpread","filter","_jsx","PageWrapper","children","_jsxs","Container","GoBackLink","to","MdOutlineArrowBackIosNew","size","Loader","StyledMain","ImgWrapper","src","img","alt","name","DescrWrapper","StyledProductTitle","PriceWrapper","Price","price","Score","scored","full","par","i","StyledP","MainBtn","AdditionalCandies","styled","_templateObject","_taggedTemplateLiteral","_ref","theme","colors","white","_templateObject2","_ref2","spacing","_ref3","_ref4","Link","_templateObject3","_ref5","_ref6","_ref7","light","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_ref8","_ref9","MainContent","_templateObject8","_ref10"],"sourceRoot":""}